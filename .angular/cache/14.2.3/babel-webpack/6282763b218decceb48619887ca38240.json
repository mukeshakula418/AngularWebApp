{"ast":null,"code":"import { AddProduct } from \"./add-product\";\nimport { Observable } from \"rxjs\";\nimport { NgForm } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../products/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-bootstrap/rating\";\n\nfunction AddProductComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const type_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", type_r10, \" \");\n  }\n}\n\nexport class AddProductComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.errorMessage = 'Unable to post the product at the moment';\n    this.postError = false;\n    this.postErrorMessage = '';\n    this.max = 5;\n    this.isReadonly = false;\n    this.percent = 0;\n    this.defaultIProduct = {\n      productId: 100,\n      productCode: '',\n      productName: \"Product Name here..\",\n      releaseDate: '2022-10-10',\n      description: 'Your notes here...',\n      price: 10,\n      starRating: 0,\n      imageUrl: 'https:imageUrl.com'\n    };\n    this.iProduct = { ...this.defaultIProduct\n    };\n    this.model = new AddProduct(1, 'Hammer', '1234', '', 12, 'Hammer tool', 4.5, 'https://imageurl.com');\n    this.submitted = false;\n  }\n\n  hoveringOver(value) {\n    this.overStar = value;\n    this.percent = value / this.max * 100;\n  }\n\n  ngOnInit() {\n    // this.releaseDate = new Date();\n    this.productCodes = this.productService.getProductCodes();\n  }\n\n  onHttpError(errorResponse) {\n    console.log('error:', errorResponse);\n    this.postError = true;\n    this.postErrorMessage = errorResponse.error.errorMessage;\n  }\n\n  onSubmit(newProduct) {\n    console.log(\"in Onsubmit:\", newProduct);\n\n    if (this.iProduct) {\n      console.log('iProduct::', newProduct);\n      this.productService.postProduct(newProduct).subscribe(result => console.log('success', result), error => console.log('error', error));\n    } else {\n      this.postError = true;\n      this.postErrorMessage = 'Please fix the errors for saving the product';\n    }\n\n    this.submitted = true;\n  }\n\n  newHero() {\n    this.model = new AddProduct(0, 'Your Product name here', 'Code here', 'Todays Date', 0, 'Hammer tool', 0, 'https://ImageUrl.com');\n  }\n\n}\n\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\n\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"pm-add-product\"]],\n  decls: 119,\n  vars: 49,\n  consts: [[1, \"container\"], [3, \"hidden\"], [3, \"ngSubmit\"], [\"addProductForm\", \"ngForm\"], [1, \"form-floating\", \"mb-3\"], [\"id\", \"productId\", \"name\", \"productId\", \"type\", \"number\", \"min\", \"1\", \"max\", \"100\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"productIdField\", \"ngModel\"], [\"for\", \"productId\"], [1, \"alert\", \"alert-danger\", 3, \"hidden\"], [1, \"input-group\", \"mb-3\"], [\"for\", \"productName\", 1, \"input-group-text\"], [\"id\", \"productName\", \"name\", \"productName\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"productNameField\", \"ngModel\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"productCode\"], [\"id\", \"productCode\", \"name\", \"productCode\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"productCodeField\", \"ngModel\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"releaseDate\", 1, \"input-group-text\"], [\"id\", \"releaseDate\", \"name\", \"releaseDate\", \"type\", \"Date\", \"placeholder\", \"releaseDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"releaseDateField\", \"ngModel\"], [\"for\", \"description\", 1, \"input-group-text\"], [\"id\", \"description\", \"name\", \"description\", \"type\", \"text\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descriptionField\", \"ngModel\"], [1, \"input-group-text\"], [\"id\", \"price\", \"type\", \"number\", \"name\", \"price\", \"aria-label\", \"Amount (to the nearest dollar)\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"priceField\", \"ngModel\"], [\"for\", \"starRating\", 1, \"input-group-text\"], [\"id\", \"starRating\", \"name\", \"starRating\", \"type\", \"number\", \"aria-label\", \"Rating (upto to 5)\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"max\", \"readonly\", \"ngModelChange\"], [\"starRatingField\", \"ngModel\"], [\"for\", \"imageUrl\", 1, \"input-group-text\"], [\"id\", \"imageUrl\", \"name\", \"imageUrl\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"imageUrlField\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"], [1, \"row\"], [1, \"col-xs-3\"], [1, \"col-xs-9\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r11 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\");\n      i0.ɵɵtext(3, \"Add Product Form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_4_listener() {\n        i0.ɵɵrestoreView(_r11);\n\n        const _r0 = i0.ɵɵreference(5);\n\n        return i0.ɵɵresetView(ctx.onSubmit(_r0.value));\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.iProduct.productId = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Product Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 8);\n      i0.ɵɵtext(12, \" Product ID is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"span\", 10);\n      i0.ɵɵtext(15, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.iProduct.productName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 8);\n      i0.ɵɵtext(19, \" Product Name is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"label\", 14);\n      i0.ɵɵtext(22, \"Product Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"select\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_select_ngModelChange_23_listener($event) {\n        return ctx.iProduct.productCode = $event;\n      });\n      i0.ɵɵtemplate(25, AddProductComponent_option_25_Template, 2, 1, \"option\", 17);\n      i0.ɵɵpipe(26, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 9)(28, \"label\", 18);\n      i0.ɵɵtext(29, \"Release Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 19, 20);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.iProduct.releaseDate = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 8);\n      i0.ɵɵtext(33, \" Release Date is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 9)(35, \"label\", 21);\n      i0.ɵɵtext(36, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"textarea\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_textarea_ngModelChange_37_listener($event) {\n        return ctx.iProduct.description = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 8);\n      i0.ɵɵtext(40, \" Description is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 9)(42, \"span\", 24);\n      i0.ɵɵtext(43, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"span\", 24);\n      i0.ɵɵtext(45, \"$\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"input\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_46_listener($event) {\n        return ctx.iProduct.price = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"span\", 24);\n      i0.ɵɵtext(49, \".00\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"span\", 8);\n      i0.ɵɵtext(51, \" Price is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(52, \"div\", 9)(53, \"span\", 27);\n      i0.ɵɵtext(54, \"Star Rating\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"rating\", 28, 29);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_rating_ngModelChange_55_listener($event) {\n        return ctx.iProduct.starRating = $event;\n      });\n      i0.ɵɵtext(57, \"> (keyup)=\\\"confirmSelection($event)\\\" \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"span\", 8);\n      i0.ɵɵtext(59, \" Rating is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"div\", 9)(61, \"span\", 30);\n      i0.ɵɵtext(62, \"Image Url\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"input\", 31, 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_63_listener($event) {\n        return ctx.iProduct.imageUrl = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"span\", 8);\n      i0.ɵɵtext(66, \" ImageUrl is required \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"div\", 8);\n      i0.ɵɵtext(68);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"button\", 33);\n      i0.ɵɵtext(70, \"Submit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"button\", 34);\n      i0.ɵɵlistener(\"click\", function AddProductComponent_Template_button_click_71_listener() {\n        i0.ɵɵrestoreView(_r11);\n\n        const _r0 = i0.ɵɵreference(5);\n\n        ctx.newHero();\n        return i0.ɵɵresetView(_r0.reset());\n      });\n      i0.ɵɵtext(72, \"New Product\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(73, \"div\", 1)(74, \"h2\");\n      i0.ɵɵtext(75, \"You submitted the following:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"div\", 35)(77, \"div\", 36);\n      i0.ɵɵtext(78, \"productId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 37);\n      i0.ɵɵtext(80);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(81, \"div\", 35)(82, \"div\", 36);\n      i0.ɵɵtext(83, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"div\", 37);\n      i0.ɵɵtext(85);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(86, \"div\", 35)(87, \"div\", 36);\n      i0.ɵɵtext(88, \"Product Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"div\", 37);\n      i0.ɵɵtext(90);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(91, \"div\", 35)(92, \"div\", 36);\n      i0.ɵɵtext(93, \"Release Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(94, \"div\", 37);\n      i0.ɵɵtext(95);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(96, \"div\", 35)(97, \"div\", 36);\n      i0.ɵɵtext(98, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"div\", 37);\n      i0.ɵɵtext(100);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(101, \"div\", 35)(102, \"div\", 36);\n      i0.ɵɵtext(103, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(104, \"div\", 37);\n      i0.ɵɵtext(105);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(106, \"div\", 35)(107, \"div\", 36);\n      i0.ɵɵtext(108, \"StarRating\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"div\", 37);\n      i0.ɵɵtext(110);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(111, \"div\", 35)(112, \"div\", 36);\n      i0.ɵɵtext(113, \"imageUrl\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(114, \"div\", 37);\n      i0.ɵɵtext(115);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(116, \"br\");\n      i0.ɵɵelementStart(117, \"button\", 38);\n      i0.ɵɵlistener(\"click\", function AddProductComponent_Template_button_click_117_listener() {\n        return ctx.submitted = false;\n      });\n      i0.ɵɵtext(118, \"Edit\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n\n      const _r1 = i0.ɵɵreference(8);\n\n      const _r2 = i0.ɵɵreference(17);\n\n      const _r3 = i0.ɵɵreference(24);\n\n      const _r5 = i0.ɵɵreference(31);\n\n      const _r6 = i0.ɵɵreference(38);\n\n      const _r7 = i0.ɵɵreference(47);\n\n      const _r8 = i0.ɵɵreference(56);\n\n      const _r9 = i0.ɵɵreference(64);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.submitted);\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r1.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.productId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r1.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r2.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.productName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r2.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r3.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.productCode);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 47, ctx.productCodes));\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r5.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.releaseDate);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r5.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r6.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r6.valid);\n      i0.ɵɵadvance(7);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r7.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.price);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r7.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r8.invalid && _r8.pristine);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.starRating)(\"max\", ctx.max)(\"readonly\", ctx.isReadonly);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r8.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"field-error\", _r0.submitted && _r9.invalid);\n      i0.ɵɵproperty(\"ngModel\", ctx.iProduct.imageUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !_r0.submitted || _r9.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.postError);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.postErrorMessage, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hidden\", !ctx.submitted);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.iProduct.productId);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.model.productName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.productCode);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.releaseDate);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.description);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.price);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.starRating);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.iProduct.imageUrl);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.MaxValidator, i3.NgModel, i3.NgForm, i4.RatingComponent, i2.AsyncPipe],\n  styles: [\".ng-invalid[_ngcontent-%COMP%]:not(form).ng-touched {\\n    border: 1px solid red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoiYWRkLXByb2R1Y3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZy1pbnZhbGlkOm5vdChmb3JtKS5uZy10b3VjaGVkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG59Il19 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAT,QAA2B,eAA3B;AACA,SAAQC,UAAR,QAAuC,MAAvC;AAGA,SAAgCC,MAAhC,QAAyD,gBAAzD;;;;;;;;;ICyBoBC;IACIA;IACJA;;;;;IADIA;IAAAA;;;;ADnBxB,OAAM,MAAOC,mBAAP,CAA0B;EA6B9BC,YAAoBC,cAApB,EAAkD;IAA9B;IA5BpB,oBAAuB,0CAAvB;IACA,iBAAY,KAAZ;IACA,wBAAmB,EAAnB;IACA,WAAM,CAAN;IACA,kBAAa,KAAb;IAGA,eAAU,CAAV;IAQA,uBAA4B;MAC1BC,SAAS,EAAC,GADgB;MAE1BC,WAAW,EAAC,EAFc;MAG1BC,WAAW,EAAC,qBAHc;MAI1BC,WAAW,EAAC,YAJc;MAK1BC,WAAW,EAAC,oBALc;MAM1BC,KAAK,EAAC,EANoB;MAO1BC,UAAU,EAAC,CAPe;MAQ1BC,QAAQ,EAAC;IARiB,CAA5B;IAWA,gBAAsB,EAAE,GAAG,KAAKC;IAAV,CAAtB;IASA,aAAQ,IAAIf,UAAJ,CAAe,CAAf,EACJ,QADI,EAEJ,MAFI,EAGJ,EAHI,EAIJ,EAJI,EAKJ,aALI,EAMJ,GANI,EAOJ,sBAPI,CAAR;IAcA,iBAAY,KAAZ;EArBuD;;EAlBvDgB,YAAY,CAACC,KAAD,EAAc;IACxB,KAAKC,QAAL,GAAgBD,KAAhB;IACA,KAAKE,OAAL,GAAgBF,KAAK,GAAG,KAAKG,GAAd,GAAqB,GAApC;EACD;;EAiBDC,QAAQ;IACN;IACA,KAAKC,YAAL,GAAoB,KAAKhB,cAAL,CAAoBiB,eAApB,EAApB;EACD;;EAWDC,WAAW,CAACC,aAAD,EAAmB;IAC5BC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,aAAtB;IACA,KAAKG,SAAL,GAAiB,IAAjB;IACA,KAAKC,gBAAL,GAAwBJ,aAAa,CAACK,KAAd,CAAoBC,YAA5C;EACD;;EAGDC,QAAQ,CAACC,UAAD,EAAmB;IACzBP,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BM,UAA5B;;IACA,IAAG,KAAKC,QAAR,EAAkB;MAChBR,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BM,UAA1B;MACA,KAAK3B,cAAL,CAAoB6B,WAApB,CAAgCF,UAAhC,EAA4CG,SAA5C,CACIC,MAAM,IAAIX,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBU,MAAvB,CADd,EAEIP,KAAK,IAAIJ,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB,CAFb;IAID,CAND,MAMO;MACL,KAAKF,SAAL,GAAiB,IAAjB;MACA,KAAKC,gBAAL,GAAwB,8CAAxB;IACD;;IACD,KAAKS,SAAL,GAAiB,IAAjB;EACD;;EAEDC,OAAO;IACL,KAAKC,KAAL,GAAa,IAAIxC,UAAJ,CACT,CADS,EAET,wBAFS,EAGT,WAHS,EAIT,aAJS,EAKT,CALS,EAMT,aANS,EAOT,CAPS,EAQT,sBARS,CAAb;EASD;;AA7E6B;;;mBAAnBI,qBAAmBD;AAAA;;;QAAnBC;EAAmBqC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MCZhC1C,+BAAuB,CAAvB,EAAuB,KAAvB,EAAuB,CAAvB,EAAuB,CAAvB,EAAuB,IAAvB;MAEYA;MAAgBA;MACpBA;MAA+BA;QAAAA;;QAAA;;QAAA,OAAYA,uCAAZ;MAA0C,CAA1C;MAC3BA,+BAAgC,CAAhC,EAAgC,OAAhC,EAAgC,CAAhC,EAAgC,CAAhC;MAC4EA;QAAA;MAAA;MAAxEA;MAIAA;MAAuBA;MAAUA;MACjCA;MAEIA;MACJA;MAEJA,gCAA8B,EAA9B,EAA8B,MAA9B,EAA8B,EAA9B;MACqDA;MAAYA;MAC7DA;MAA4EA;QAAA;MAAA;MAA5EA;MAGAA;MAEIA;MACJA;MAEJA,iCAA6B,EAA7B,EAA6B,OAA7B,EAA6B,EAA7B;MAC6BA;MAAYA;MACrCA;MAA6EA;QAAA;MAAA;MAGzEA;;MAGJA;MAEJA,gCAA8B,EAA9B,EAA8B,OAA9B,EAA8B,EAA9B;MACsDA;MAAYA;MAC9DA;MACOA;QAAA;MAAA;MADPA;MAIAA;MAEIA;MACJA;MAEJA,gCAA8B,EAA9B,EAA8B,OAA9B,EAA8B,EAA9B;MACsDA;MAAWA;MAC7DA;MAAyFA;QAAA;MAAA;MAEJA;MACrFA;MAEIA;MACJA;MAEJA,gCAA8B,EAA9B,EAA8B,MAA9B,EAA8B,EAA9B;MACmCA;MAAKA;MACpCA;MAA+BA;MAACA;MAChCA;MACOA;QAAA;MAAA;MADPA;MAIAA;MAA+BA;MAAGA;MAClCA;MAEIA;MACJA;MAEJA,gCAA8B,EAA9B,EAA8B,MAA9B,EAA8B,EAA9B;MACoDA;MAAWA;MAC3DA;MACQA;QAAA;MAAA;MAEsGA;MAE9GA;MACAA;MAEIA;MACJA;MAEJA,gCAA8B,EAA9B,EAA8B,MAA9B,EAA8B,EAA9B;MACkDA;MAASA;MACvDA;MAA0DA;QAAA;MAAA;MAA1DA;MAGAA;MAEIA;MACJA;MAEJA;MACIA;MACJA;MACAA;MAAsFA;MAAMA;MAC5FA;MAA8CA;QAAAA;;QAAA;;QAAS2C;QAAS,OAAE3C,2BAAF;MAAwB,CAA1C;MAA4CA;MAAWA;MAK7GA,gCAA2B,EAA3B,EAA2B,IAA3B;MACQA;MAA4BA;MAChCA,iCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAASA;MAC/BA;MAAsBA;MAAwBA;MAElDA,iCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAYA;MAClCA;MAAsBA;MAAuBA;MAEjDA,iCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAYA;MAClCA;MAAsBA;MAA0BA;MAEpDA,iCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAYA;MAClCA;MAAsBA;MAA0BA;MAEpDA,iCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAWA;MACjCA;MAAsBA;MAA0BA;MAEpDA,kCAAiB,GAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAKA;MAC3BA;MAAsBA;MAAoBA;MAE9CA,kCAAiB,GAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAUA;MAChCA;MAAsBA;MAAyBA;MAEnDA,kCAAiB,GAAjB,EAAiB,KAAjB,EAAiB,EAAjB;MAC0BA;MAAQA;MAC9BA;MAAsBA;MAAuBA;MAEjDA;MACAA;MAA8CA;QAAA,uBAAmB,KAAnB;MAAwB,CAAxB;MAA0BA;MAAIA;;;;;;;;;;;;;;;;;;;;;;MAvI3EA;MAAAA;MAOcA;MAAAA;MAHiEA;MAKnEA;MAAAA;MASEA;MAAAA;MAFqEA;MAGvEA;MAAAA;MASEA;MAAAA;MAFsEA;MAGhDA;MAAAA;MAUtBA;MAAAA;MAFAA;MAGFA;MAAAA;MASKA;MAAAA;MAF+EA;MAGpFA;MAAAA;MAWEA;MAAAA;MAFAA;MAIDA;MAAAA;MAUEA;MAAAA;MAFAA,kDAAiC,KAAjC,EAAiC2C,OAAjC,EAAiC,UAAjC,EAAiCA,cAAjC;MAKF3C;MAAAA;MASCA;MAAAA;MAFmDA;MAGpDA;MAAAA;MAKsBA;MAAAA;MAC5BA;MAAAA;MAE0CA;MAAAA;MAMjDA;MAAAA;MAIyBA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA;MAIAA;MAAAA","names":["AddProduct","Observable","NgForm","i0","AddProductComponent","constructor","productService","productId","productCode","productName","releaseDate","description","price","starRating","imageUrl","defaultIProduct","hoveringOver","value","overStar","percent","max","ngOnInit","productCodes","getProductCodes","onHttpError","errorResponse","console","log","postError","postErrorMessage","error","errorMessage","onSubmit","newProduct","iProduct","postProduct","subscribe","result","submitted","newHero","model","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/mukeshakula/Personal/Programming/IDEA_Projects/AngularWebApp/src/app/add-product/add-product.component.ts","/Users/mukeshakula/Personal/Programming/IDEA_Projects/AngularWebApp/src/app/add-product/add-product.component.html"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport { AddProduct } from \"./add-product\";\nimport {Observable, Subscription} from \"rxjs\";\nimport { IProduct } from \"../products/product\";\nimport { ProductService } from \"../products/product.service\";\nimport {FormControl, FormGroup, NgForm, Validators} from \"@angular/forms\";\n\n@Component({\n  selector: 'pm-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent implements OnInit {\n  errorMessage: string = 'Unable to post the product at the moment';\n  postError = false;\n  postErrorMessage = '';\n  max = 5;\n  isReadonly = false;\n  // releaseDate: Date;\n  overStar: number | undefined;\n  percent = 0;\n  productCodes!: Observable<string[]>;\n\n  hoveringOver(value: number): void {\n    this.overStar = value;\n    this.percent = (value / this.max) * 100;\n  }\n\n  defaultIProduct: IProduct = {\n    productId:100,\n    productCode:'',\n    productName:\"Product Name here..\",\n    releaseDate:'2022-10-10',\n    description:'Your notes here...',\n    price:10,\n    starRating:0,\n    imageUrl:'https:imageUrl.com'\n  };\n\n  iProduct : IProduct = { ...this.defaultIProduct};\n\n  constructor(private productService: ProductService) { }\n\n  ngOnInit() {\n    // this.releaseDate = new Date();\n    this.productCodes = this.productService.getProductCodes();\n  }\n\n  model = new AddProduct(1,\n      'Hammer',\n      '1234',\n      '',\n      12,\n      'Hammer tool',\n      4.5,\n      'https://imageurl.com');\n\n  onHttpError(errorResponse: any){\n    console.log('error:', errorResponse);\n    this.postError = true;\n    this.postErrorMessage = errorResponse.error.errorMessage;\n  }\n  submitted = false;\n\n  onSubmit(newProduct: NgForm) {\n    console.log(\"in Onsubmit:\", newProduct);\n    if(this.iProduct) {\n      console.log('iProduct::', newProduct)\n      this.productService.postProduct(newProduct).subscribe(\n          result => console.log('success', result),\n          error => console.log('error', error)\n      );\n    } else {\n      this.postError = true;\n      this.postErrorMessage = 'Please fix the errors for saving the product';\n    }\n    this.submitted = true;\n  }\n\n  newHero() {\n    this.model = new AddProduct(\n        0,\n        'Your Product name here',\n        'Code here',\n        'Todays Date',\n        0,\n        'Hammer tool',\n        0,\n        'https://ImageUrl.com');\n  }\n\n}\n\n","<div class=\"container\">\n    <div [hidden]=\"submitted\">\n        <h4>Add Product Form</h4>\n        <form #addProductForm=\"ngForm\" (ngSubmit)=\"onSubmit(addProductForm.value)\">\n            <div class=\"form-floating mb-3\">\n                <input id=\"productId\" name=\"productId\" type=number class=\"form-control\" [(ngModel)]=\"iProduct.productId\"\n                       min=\"1\" max=\"100\"\n                       required #productIdField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && productIdField.invalid\">\n                <label for=\"productId\">Product Id</label>\n                <div [hidden]=\"!addProductForm.submitted || productIdField.valid\"\n                     class=\"alert alert-danger\">\n                    Product ID is required\n                </div>\n            </div>\n            <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" for=\"productName\">Product Name</span>\n                <input id=\"productName\" name=\"productName\" type=\"text\" class=\"form-control\" [(ngModel)]=\"iProduct.productName\"\n                       required #productNameField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && productNameField.invalid\">\n                <div [hidden]=\"!addProductForm.submitted || productNameField.valid\"\n                     class=\"alert alert-danger\">\n                    Product Name is required\n                </div>\n            </div>\n            <div class=\"form-group mb-3\">\n                <label for=\"productCode\">Product Code</label>\n                <select id=\"productCode\" name=\"productCode\" type=\"text\" class=\"form-control\" [(ngModel)]=\"iProduct.productCode\"\n                       required #productCodeField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && productCodeField.invalid\">\n                    <option *ngFor=\"let type of productCodes | async\">\n                        {{ type }}\n                    </option>\n                </select>\n            </div>\n            <div class=\"input-group mb-3\">\n                <label class=\"input-group-text\" for=\"releaseDate\">Release Date</label>\n                <input id=\"releaseDate\" name=\"releaseDate\" type=\"Date\" class=\"form-control\" placeholder=\"releaseDate\"\n                       [(ngModel)]=\"iProduct.releaseDate\"\n                       required #releaseDateField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && releaseDateField.invalid\">\n                <div [hidden]=\"!addProductForm.submitted || releaseDateField.valid\"\n                      class=\"alert alert-danger\">\n                    Release Date is required\n                </div>\n            </div>\n            <div class=\"input-group mb-3\">\n                <label class=\"input-group-text\" for=\"description\">Description</label>\n                <textarea id=\"description\" name=\"description\" type=\"text\" class=\"form-control\"  rows=\"3\" [(ngModel)]=\"iProduct.description\"\n                          required #descriptionField=\"ngModel\"\n                          [class.field-error]=\"addProductForm.submitted && descriptionField.invalid\"></textarea>\n                <div [hidden]=\"!addProductForm.submitted || descriptionField.valid\"\n                      class=\"alert alert-danger\">\n                    Description is required\n                </div>\n            </div>\n            <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\">Price</span>\n                <span class=\"input-group-text\">$</span>\n                <input id=\"price\" type=number name=\"price\" class=\"form-control\" aria-label=\"Amount (to the nearest dollar)\"\n                       [(ngModel)]=\"iProduct.price\"\n                       required #priceField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && priceField.invalid\">\n                <span class=\"input-group-text\">.00</span>\n                <span [hidden]=\"!addProductForm.submitted || priceField.valid\"\n                      class=\"alert alert-danger\">\n                    Price is required\n                </span>\n            </div>\n            <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" for=\"starRating\">Star Rating</span>\n                <rating id=\"starRating\" name=\"starRating\" type=number class=\"form-control\" aria-label=\"Rating (upto to 5)\"\n                        [(ngModel)]=\"iProduct.starRating\" [max]=\"max\" [readonly]=\"isReadonly\"\n                        required #starRatingField=\"ngModel\"\n                        [class.field-error]=\"addProductForm.submitted && starRatingField.invalid && starRatingField.pristine\">>\n                    (keyup)=\"confirmSelection($event)\"\n                </rating>\n                <span [hidden]=\"!addProductForm.submitted || starRatingField.valid\"\n                      class=\"alert alert-danger\">\n                    Rating is required\n                </span>\n            </div>\n            <div class=\"input-group mb-3\">\n                <span class=\"input-group-text\" for=\"imageUrl\">Image Url</span>\n                <input id=\"imageUrl\" name=\"imageUrl\" class=\"form-control\" [(ngModel)]=\"iProduct.imageUrl\"\n                       required #imageUrlField=\"ngModel\"\n                       [class.field-error]=\"addProductForm.submitted && imageUrlField.invalid\">\n                <span [hidden]=\"!addProductForm.submitted || imageUrlField.valid\"\n                      class=\"alert alert-danger\">\n                    ImageUrl is required\n                </span>\n            </div>\n            <div class=\"alert alert-danger\" [hidden]=\"!postError\">\n                {{ postErrorMessage }}\n            </div>\n            <button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!addProductForm.form.valid\">Submit</button>\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"newHero(); addProductForm.reset()\">New Product</button>\n        </form>\n    </div>\n\n\n    <div [hidden]=\"!submitted\">\n        <h2>You submitted the following:</h2>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">productId</div>\n            <div class=\"col-xs-9\">{{ iProduct.productId }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">Product Name</div>\n            <div class=\"col-xs-9\">{{ model.productName }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">Product Code</div>\n            <div class=\"col-xs-9\">{{ iProduct.productCode }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">Release Date</div>\n            <div class=\"col-xs-9\">{{ iProduct.releaseDate }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">Description</div>\n            <div class=\"col-xs-9\">{{ iProduct.description }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">Price</div>\n            <div class=\"col-xs-9\">{{ iProduct.price }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">StarRating</div>\n            <div class=\"col-xs-9\">{{ iProduct.starRating }}</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-3\">imageUrl</div>\n            <div class=\"col-xs-9\">{{ iProduct.imageUrl }}</div>\n        </div>\n        <br>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitted=false\">Edit</button>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}